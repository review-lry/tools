<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ› ï¸ å¼€å‘è€…å·¥å…·ç®±</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        header h1 {
            font-size: 3em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .tool-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }

        .tool-card h2 {
            color: #1e3c72;
            margin-bottom: 15px;
            font-size: 1.5em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tool-card .icon {
            font-size: 1.3em;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: 500;
        }

        .input-group input,
        .input-group textarea,
        .input-group select {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            font-family: 'Courier New', monospace;
            transition: border-color 0.3s;
        }

        .input-group input:focus,
        .input-group textarea:focus,
        .input-group select:focus {
            outline: none;
            border-color: #2a5298;
        }

        .input-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        .btn {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-right: 10px;
            margin-bottom: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(30, 60, 114, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
        }

        .result-box {
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            min-height: 60px;
            max-height: 300px;
            overflow-y: auto;
        }

        .result-box pre {
            margin: 0;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: 'Courier New', monospace;
            font-size: 13px;
        }

        .result-box .placeholder {
            color: #999;
            font-style: italic;
        }

        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #2a5298;
            color: white;
            border: none;
            padding: 5px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .result-box:hover .copy-btn {
            opacity: 1;
        }

        .result-box {
            position: relative;
        }

        .row {
            display: flex;
            gap: 10px;
        }

        .col {
            flex: 1;
        }

        .current-time {
            text-align: center;
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .current-time h2 {
            color: #1e3c72;
            margin-bottom: 15px;
        }

        .time-display {
            font-size: 2em;
            font-weight: bold;
            color: #2a5298;
            margin: 10px 0;
        }

        .timestamp-display {
            font-size: 1.2em;
            color: #666;
            font-family: 'Courier New', monospace;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 2em;
            }

            .tools-grid {
                grid-template-columns: 1fr;
            }

            .row {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ› ï¸ å¼€å‘è€…å·¥å…·ç®±</h1>
            <p>å¸¸ç”¨å¼€å‘å·¥å…·é›†åˆ - æé«˜å¼€å‘æ•ˆç‡</p>
        </header>

        <!-- å½“å‰æ—¶é—´æ˜¾ç¤º -->
        <div class="current-time">
            <h2>â° å½“å‰æ—¶é—´</h2>
            <div class="time-display" id="currentTime">åŠ è½½ä¸­...</div>
            <div class="timestamp-display">
                æ—¶é—´æˆ³: <span id="currentTimestamp">-</span>
            </div>
        </div>

        <div class="tools-grid">
            <!-- æ—¶é—´æˆ³è½¬æ¢å·¥å…· -->
            <div class="tool-card">
                <h2><span class="icon">ğŸ•</span> æ—¶é—´æˆ³è½¬æ¢</h2>
                
                <div class="input-group">
                    <label>æ—¶é—´æˆ³ï¼ˆç§’/æ¯«ç§’ï¼‰</label>
                    <input type="text" id="timestampInput" placeholder="ä¾‹å¦‚: 1672531200 æˆ– 1672531200000">
                </div>
                
                <button class="btn" onclick="convertTimestamp()">è½¬æ¢ä¸ºæ—¥æœŸ</button>
                <button class="btn btn-secondary" onclick="setNowTimestamp()">è®¾ç½®ä¸ºå½“å‰</button>
                
                <div class="result-box" id="timestampResult">
                    <span class="placeholder">ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</span>
                </div>
            </div>

            <!-- æ—¥æœŸè½¬æ—¶é—´æˆ³å·¥å…· -->
            <div class="tool-card">
                <h2><span class="icon">ğŸ“…</span> æ—¥æœŸè½¬æ—¶é—´æˆ³</h2>
                
                <div class="input-group">
                    <label>é€‰æ‹©æ—¥æœŸæ—¶é—´</label>
                    <input type="datetime-local" id="datetimeInput">
                </div>
                
                <button class="btn" onclick="convertToTimestamp()">è½¬æ¢ä¸ºæ—¶é—´æˆ³</button>
                <button class="btn btn-secondary" onclick="setNowDateTime()">è®¾ç½®ä¸ºå½“å‰</button>
                
                <div class="result-box" id="datetimeResult">
                    <span class="placeholder">ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</span>
                </div>
            </div>

            <!-- JSON æ ¼å¼åŒ–å·¥å…· -->
            <div class="tool-card">
                <h2><span class="icon">ğŸ“</span> JSON æ ¼å¼åŒ–</h2>
                
                <div class="input-group">
                    <label>è¾“å…¥ JSON</label>
                    <textarea id="jsonInput" placeholder='{"name":"test","value":123}'></textarea>
                </div>
                
                <button class="btn" onclick="formatJSON()">æ ¼å¼åŒ–</button>
                <button class="btn btn-secondary" onclick="compressJSON()">å‹ç¼©</button>
                <button class="btn btn-secondary" onclick="clearJSON()">æ¸…ç©º</button>
                
                <div class="result-box" id="jsonResult">
                    <span class="placeholder">æ ¼å¼åŒ–åçš„ JSON å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</span>
                    <button class="copy-btn" onclick="copyResult('jsonResult')">å¤åˆ¶</button>
                </div>
            </div>

            <!-- Base64 ç¼–è§£ç å·¥å…· -->
            <div class="tool-card">
                <h2><span class="icon">ğŸ”</span> Base64 ç¼–è§£ç </h2>
                
                <div class="input-group">
                    <label>è¾“å…¥æ–‡æœ¬</label>
                    <textarea id="base64Input" placeholder="è¾“å…¥è¦ç¼–ç æˆ–è§£ç çš„æ–‡æœ¬"></textarea>
                </div>
                
                <button class="btn" onclick="encodeBase64()">ç¼–ç </button>
                <button class="btn btn-secondary" onclick="decodeBase64()">è§£ç </button>
                
                <div class="result-box" id="base64Result">
                    <span class="placeholder">ç¼–è§£ç ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</span>
                    <button class="copy-btn" onclick="copyResult('base64Result')">å¤åˆ¶</button>
                </div>
            </div>

            <!-- URL ç¼–è§£ç å·¥å…· -->
            <div class="tool-card">
                <h2><span class="icon">ğŸ”—</span> URL ç¼–è§£ç </h2>
                
                <div class="input-group">
                    <label>è¾“å…¥ URL</label>
                    <textarea id="urlInput" placeholder="è¾“å…¥è¦ç¼–ç æˆ–è§£ç çš„ URL"></textarea>
                </div>
                
                <button class="btn" onclick="encodeURL()">ç¼–ç </button>
                <button class="btn btn-secondary" onclick="decodeURL()">è§£ç </button>
                
                <div class="result-box" id="urlResult">
                    <span class="placeholder">ç¼–è§£ç ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</span>
                    <button class="copy-btn" onclick="copyResult('urlResult')">å¤åˆ¶</button>
                </div>
            </div>

            <!-- MD5 ç”Ÿæˆå·¥å…· -->
            <div class="tool-card">
                <h2><span class="icon">ğŸ”’</span> MD5 å“ˆå¸Œ</h2>
                
                <div class="input-group">
                    <label>è¾“å…¥æ–‡æœ¬</label>
                    <textarea id="md5Input" placeholder="è¾“å…¥è¦ç”Ÿæˆ MD5 çš„æ–‡æœ¬"></textarea>
                </div>
                
                <button class="btn" onclick="generateMD5()">ç”Ÿæˆ MD5</button>
                
                <div class="result-box" id="md5Result">
                    <span class="placeholder">MD5 å“ˆå¸Œå€¼å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</span>
                    <button class="copy-btn" onclick="copyResult('md5Result')">å¤åˆ¶</button>
                </div>
            </div>

            <!-- é¢œè‰²è½¬æ¢å·¥å…· -->
            <div class="tool-card">
                <h2><span class="icon">ğŸ¨</span> é¢œè‰²è½¬æ¢</h2>
                
                <div class="row">
                    <div class="col">
                        <div class="input-group">
                            <label>Hex é¢œè‰²</label>
                            <input type="color" id="colorPicker" value="#1e3c72" style="height: 50px; cursor: pointer;">
                        </div>
                    </div>
                    <div class="col">
                        <div class="input-group">
                            <label>Hex å€¼</label>
                            <input type="text" id="hexInput" value="#1e3c72" onchange="updateColorFromHex()">
                        </div>
                    </div>
                </div>
                
                <button class="btn" onclick="convertColor()">è½¬æ¢</button>
                
                <div class="result-box" id="colorResult">
                    <span class="placeholder">é¢œè‰²è½¬æ¢ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</span>
                </div>
            </div>

            <!-- UUID ç”Ÿæˆå·¥å…· -->
            <div class="tool-card">
                <h2><span class="icon">ğŸ†”</span> UUID ç”Ÿæˆå™¨</h2>
                
                <div class="input-group">
                    <label>ç”Ÿæˆæ•°é‡</label>
                    <input type="number" id="uuidCount" value="1" min="1" max="100">
                </div>
                
                <button class="btn" onclick="generateUUID()">ç”Ÿæˆ UUID</button>
                
                <div class="result-box" id="uuidResult">
                    <span class="placeholder">UUID å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</span>
                    <button class="copy-btn" onclick="copyResult('uuidResult')">å¤åˆ¶</button>
                </div>
            </div>

            <!-- æ­£åˆ™è¡¨è¾¾å¼æµ‹è¯•å·¥å…· -->
            <div class="tool-card">
                <h2><span class="icon">ğŸ”</span> æ­£åˆ™è¡¨è¾¾å¼æµ‹è¯•</h2>
                
                <div class="input-group">
                    <label>æ­£åˆ™è¡¨è¾¾å¼</label>
                    <input type="text" id="regexPattern" placeholder="ä¾‹å¦‚: ^\d+$">
                </div>
                
                <div class="input-group">
                    <label>æµ‹è¯•æ–‡æœ¬</label>
                    <textarea id="regexInput" placeholder="è¾“å…¥è¦æµ‹è¯•çš„æ–‡æœ¬"></textarea>
                </div>
                
                <button class="btn" onclick="testRegex()">æµ‹è¯•åŒ¹é…</button>
                
                <div class="result-box" id="regexResult">
                    <span class="placeholder">åŒ¹é…ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</span>
                </div>
            </div>

            <!-- æ•°å­—è¿›åˆ¶è½¬æ¢å·¥å…· -->
            <div class="tool-card">
                <h2><span class="icon">ğŸ”¢</span> è¿›åˆ¶è½¬æ¢</h2>
                
                <div class="input-group">
                    <label>è¾“å…¥æ•°å­—</label>
                    <input type="text" id="numberInput" placeholder="è¾“å…¥æ•°å­—">
                </div>
                
                <div class="input-group">
                    <label>å½“å‰è¿›åˆ¶</label>
                    <select id="fromBase">
                        <option value="10">åè¿›åˆ¶ (10)</option>
                        <option value="2">äºŒè¿›åˆ¶ (2)</option>
                        <option value="8">å…«è¿›åˆ¶ (8)</option>
                        <option value="16">åå…­è¿›åˆ¶ (16)</option>
                    </select>
                </div>
                
                <button class="btn" onclick="convertNumber()">è½¬æ¢</button>
                
                <div class="result-box" id="numberResult">
                    <span class="placeholder">è½¬æ¢ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</span>
                    <button class="copy-btn" onclick="copyResult('numberResult')">å¤åˆ¶</button>
                </div>
            </div>

            <!-- æ–‡æœ¬ç»Ÿè®¡å·¥å…· -->
            <div class="tool-card">
                <h2><span class="icon">ğŸ“Š</span> æ–‡æœ¬ç»Ÿè®¡</h2>
                
                <div class="input-group">
                    <label>è¾“å…¥æ–‡æœ¬</label>
                    <textarea id="statsInput" placeholder="è¾“å…¥è¦ç»Ÿè®¡çš„æ–‡æœ¬" oninput="calculateStats()"></textarea>
                </div>
                
                <div class="result-box" id="statsResult">
                    <span class="placeholder">ç»Ÿè®¡ä¿¡æ¯ï¼šå­—ç¬¦æ•°ã€å•è¯æ•°ã€è¡Œæ•°ç­‰</span>
                </div>
            </div>

            <!-- JWT è§£æå·¥å…· -->
            <div class="tool-card">
                <h2><span class="icon">ğŸ«</span> JWT è§£æ</h2>
                
                <div class="input-group">
                    <label>JWT Token</label>
                    <textarea id="jwtInput" placeholder="ç²˜è´´ JWT Token"></textarea>
                </div>
                
                <button class="btn" onclick="parseJWT()">è§£æ Token</button>
                
                <div class="result-box" id="jwtResult">
                    <span class="placeholder">è§£æç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</span>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script>
        // æ›´æ–°å½“å‰æ—¶é—´
        function updateCurrentTime() {
            const now = new Date();
            document.getElementById('currentTime').textContent = now.toLocaleString('zh-CN');
            document.getElementById('currentTimestamp').textContent = Math.floor(now.getTime() / 1000);
        }
        
        setInterval(updateCurrentTime, 1000);
        updateCurrentTime();

        // æ—¶é—´æˆ³è½¬æ¢
        function convertTimestamp() {
            const input = document.getElementById('timestampInput').value.trim();
            if (!input) {
                showResult('timestampResult', 'è¯·è¾“å…¥æ—¶é—´æˆ³');
                return;
            }

            let timestamp = parseInt(input);
            if (isNaN(timestamp)) {
                showResult('timestampResult', 'æ— æ•ˆçš„æ—¶é—´æˆ³');
                return;
            }

            // åˆ¤æ–­æ˜¯ç§’è¿˜æ˜¯æ¯«ç§’
            if (timestamp < 10000000000) {
                timestamp *= 1000;
            }

            const date = new Date(timestamp);
            const result = `
                <strong>æœ¬åœ°æ—¶é—´:</strong> ${date.toLocaleString('zh-CN')}<br>
                <strong>UTC æ—¶é—´:</strong> ${date.toUTCString()}<br>
                <strong>æ—¶é—´æˆ³(ç§’):</strong> ${Math.floor(timestamp / 1000)}<br>
                <strong>æ—¶é—´æˆ³(æ¯«ç§’):</strong> ${timestamp}
            `;
            showResult('timestampResult', result);
        }

        function setNowTimestamp() {
            document.getElementById('timestampInput').value = Math.floor(Date.now() / 1000);
            convertTimestamp();
        }

        // æ—¥æœŸè½¬æ—¶é—´æˆ³
        function convertToTimestamp() {
            const input = document.getElementById('datetimeInput').value;
            if (!input) {
                showResult('datetimeResult', 'è¯·é€‰æ‹©æ—¥æœŸæ—¶é—´');
                return;
            }

            const date = new Date(input);
            const result = `
                <strong>æ—¶é—´æˆ³(ç§’):</strong> ${Math.floor(date.getTime() / 1000)}<br>
                <strong>æ—¶é—´æˆ³(æ¯«ç§’):</strong> ${date.getTime()}<br>
                <strong>æ—¥æœŸ:</strong> ${date.toLocaleString('zh-CN')}
            `;
            showResult('datetimeResult', result);
        }

        function setNowDateTime() {
            const now = new Date();
            now.setMinutes(now.getMinutes() - now.getTimezoneOffset());
            document.getElementById('datetimeInput').value = now.toISOString().slice(0, 16);
            convertToTimestamp();
        }

        // JSON æ ¼å¼åŒ–
        function formatJSON() {
            const input = document.getElementById('jsonInput').value.trim();
            if (!input) {
                showResult('jsonResult', 'è¯·è¾“å…¥ JSON');
                return;
            }

            try {
                const parsed = JSON.parse(input);
                const formatted = JSON.stringify(parsed, null, 2);
                showResult('jsonResult', `<pre>${syntaxHighlight(formatted)}</pre>`);
            } catch (e) {
                showResult('jsonResult', `<span style="color: red;">æ— æ•ˆçš„ JSON: ${e.message}</span>`);
            }
        }

        function compressJSON() {
            const input = document.getElementById('jsonInput').value.trim();
            if (!input) {
                showResult('jsonResult', 'è¯·è¾“å…¥ JSON');
                return;
            }

            try {
                const parsed = JSON.parse(input);
                const compressed = JSON.stringify(parsed);
                showResult('jsonResult', `<pre>${compressed}</pre>`);
            } catch (e) {
                showResult('jsonResult', `<span style="color: red;">æ— æ•ˆçš„ JSON: ${e.message}</span>`);
            }
        }

        function clearJSON() {
            document.getElementById('jsonInput').value = '';
            document.getElementById('jsonResult').innerHTML = '<span class="placeholder">æ ¼å¼åŒ–åçš„ JSON å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</span><button class="copy-btn" onclick="copyResult(\'jsonResult\')">å¤åˆ¶</button>';
        }

        // JSON è¯­æ³•é«˜äº®
        function syntaxHighlight(json) {
            json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
            return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, function (match) {
                let cls = 'number';
                if (/^"/.test(match)) {
                    if (/:$/.test(match)) {
                        cls = 'key';
                    } else {
                        cls = 'string';
                    }
                } else if (/true|false/.test(match)) {
                    cls = 'boolean';
                } else if (/null/.test(match)) {
                    cls = 'null';
                }
                return '<span style="color: ' + {
                    'string': '#2a5298',
                    'number': '#1e3c72',
                    'boolean': '#d63384',
                    'null': '#6c757d',
                    'key': '#0d6efd'
                }[cls] + ';">' + match + '</span>';
            });
        }

        // Base64 ç¼–è§£ç 
        function encodeBase64() {
            const input = document.getElementById('base64Input').value;
            try {
                const encoded = btoa(unescape(encodeURIComponent(input)));
                showResult('base64Result', encoded);
            } catch (e) {
                showResult('base64Result', `<span style="color: red;">ç¼–ç å¤±è´¥: ${e.message}</span>`);
            }
        }

        function decodeBase64() {
            const input = document.getElementById('base64Input').value.trim();
            try {
                const decoded = decodeURIComponent(escape(atob(input)));
                showResult('base64Result', decoded);
            } catch (e) {
                showResult('base64Result', `<span style="color: red;">è§£ç å¤±è´¥: è¯·è¾“å…¥æœ‰æ•ˆçš„ Base64 å­—ç¬¦ä¸²</span>`);
            }
        }

        // URL ç¼–è§£ç 
        function encodeURL() {
            const input = document.getElementById('urlInput').value;
            try {
                const encoded = encodeURIComponent(input);
                showResult('urlResult', encoded);
            } catch (e) {
                showResult('urlResult', `<span style="color: red;">ç¼–ç å¤±è´¥: ${e.message}</span>`);
            }
        }

        function decodeURL() {
            const input = document.getElementById('urlInput').value.trim();
            try {
                const decoded = decodeURIComponent(input);
                showResult('urlResult', decoded);
            } catch (e) {
                showResult('urlResult', `<span style="color: red;">è§£ç å¤±è´¥: ${e.message}</span>`);
            }
        }

        // MD5 ç”Ÿæˆ
        function generateMD5() {
            const input = document.getElementById('md5Input').value;
            if (!input) {
                showResult('md5Result', 'è¯·è¾“å…¥æ–‡æœ¬');
                return;
            }
            const hash = CryptoJS.MD5(input).toString();
            showResult('md5Result', hash);
        }

        // é¢œè‰²è½¬æ¢
        function updateColorFromHex() {
            const hex = document.getElementById('hexInput').value;
            if (/^#[0-9A-Fa-f]{6}$/.test(hex)) {
                document.getElementById('colorPicker').value = hex;
            }
        }

        document.getElementById('colorPicker').addEventListener('input', function() {
            document.getElementById('hexInput').value = this.value;
            convertColor();
        });

        function convertColor() {
            const hex = document.getElementById('hexInput').value;
            if (!/^#[0-9A-Fa-f]{6}$/.test(hex)) {
                showResult('colorResult', '<span style="color: red;">æ— æ•ˆçš„ Hex é¢œè‰²å€¼</span>');
                return;
            }

            const r = parseInt(hex.slice(1, 3), 16);
            const g = parseInt(hex.slice(3, 5), 16);
            const b = parseInt(hex.slice(5, 7), 16);

            const result = `
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                    <div style="width: 50px; height: 50px; background: ${hex}; border: 2px solid #ccc; border-radius: 5px;"></div>
                    <div>
                        <strong>HEX:</strong> ${hex.toUpperCase()}<br>
                        <strong>RGB:</strong> rgb(${r}, ${g}, ${b})<br>
                        <strong>HSL:</strong> ${rgbToHsl(r, g, b)}
                    </div>
                </div>
            `;
            showResult('colorResult', result);
        }

        function rgbToHsl(r, g, b) {
            r /= 255; g /= 255; b /= 255;
            const max = Math.max(r, g, b), min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;

            if (max === min) {
                h = s = 0;
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break;
                    case g: h = ((b - r) / d + 2) / 6; break;
                    case b: h = ((r - g) / d + 4) / 6; break;
                }
            }

            return `hsl(${Math.round(h * 360)}, ${Math.round(s * 100)}%, ${Math.round(l * 100)}%)`;
        }

        // UUID ç”Ÿæˆ
        function generateUUID() {
            const count = parseInt(document.getElementById('uuidCount').value) || 1;
            const uuids = [];
            
            for (let i = 0; i < Math.min(count, 100); i++) {
                const uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                    const r = Math.random() * 16 | 0;
                    const v = c === 'x' ? r : (r & 0x3 | 0x8);
                    return v.toString(16);
                });
                uuids.push(uuid);
            }

            showResult('uuidResult', uuids.join('\n'));
        }

        // æ­£åˆ™è¡¨è¾¾å¼æµ‹è¯•
        function testRegex() {
            const pattern = document.getElementById('regexPattern').value;
            const text = document.getElementById('regexInput').value;

            if (!pattern) {
                showResult('regexResult', 'è¯·è¾“å…¥æ­£åˆ™è¡¨è¾¾å¼');
                return;
            }

            try {
                const regex = new RegExp(pattern, 'g');
                const matches = text.match(regex);
                
                if (matches) {
                    showResult('regexResult', `
                        <strong>æ‰¾åˆ° ${matches.length} ä¸ªåŒ¹é…:</strong><br>
                        ${matches.map(m => `<code style="background: #f0f0f0; padding: 2px 5px; border-radius: 3px; margin: 2px;">${m}</code>`).join('')}
                    `);
                } else {
                    showResult('regexResult', '<span style="color: orange;">æ²¡æœ‰æ‰¾åˆ°åŒ¹é…</span>');
                }
            } catch (e) {
                showResult('regexResult', `<span style="color: red;">æ— æ•ˆçš„æ­£åˆ™è¡¨è¾¾å¼: ${e.message}</span>`);
            }
        }

        // è¿›åˆ¶è½¬æ¢
        function convertNumber() {
            const input = document.getElementById('numberInput').value.trim();
            const fromBase = parseInt(document.getElementById('fromBase').value);

            if (!input) {
                showResult('numberResult', 'è¯·è¾“å…¥æ•°å­—');
                return;
            }

            try {
                const decimal = parseInt(input, fromBase);
                if (isNaN(decimal)) {
                    throw new Error('æ— æ•ˆçš„æ•°å­—');
                }

                const result = `
                    <strong>åè¿›åˆ¶:</strong> ${decimal.toString(10)}<br>
                    <strong>äºŒè¿›åˆ¶:</strong> ${decimal.toString(2)}<br>
                    <strong>å…«è¿›åˆ¶:</strong> ${decimal.toString(8)}<br>
                    <strong>åå…­è¿›åˆ¶:</strong> ${decimal.toString(16).toUpperCase()}
                `;
                showResult('numberResult', result);
            } catch (e) {
                showResult('numberResult', `<span style="color: red;">è½¬æ¢å¤±è´¥: ${e.message}</span>`);
            }
        }

        // æ–‡æœ¬ç»Ÿè®¡
        function calculateStats() {
            const text = document.getElementById('statsInput').value;
            
            const chars = text.length;
            const charsNoSpaces = text.replace(/\s/g, '').length;
            const words = text.trim() ? text.trim().split(/\s+/).length : 0;
            const lines = text.split('\n').length;
            const paragraphs = text.trim() ? text.split(/\n\s*\n/).length : 0;

            const result = `
                <strong>å­—ç¬¦æ•°:</strong> ${chars}<br>
                <strong>å­—ç¬¦æ•° (ä¸å«ç©ºæ ¼):</strong> ${charsNoSpaces}<br>
                <strong>å•è¯æ•°:</strong> ${words}<br>
                <strong>è¡Œæ•°:</strong> ${lines}<br>
                <strong>æ®µè½æ•°:</strong> ${paragraphs}
            `;
            showResult('statsResult', result);
        }

        // JWT è§£æ
        function parseJWT() {
            const token = document.getElementById('jwtInput').value.trim();
            
            if (!token) {
                showResult('jwtResult', 'è¯·è¾“å…¥ JWT Token');
                return;
            }

            const parts = token.split('.');
            if (parts.length !== 3) {
                showResult('jwtResult', '<span style="color: red;">æ— æ•ˆçš„ JWT Token (åº”è¯¥æ˜¯ 3 éƒ¨åˆ†)</span>');
                return;
            }

            try {
                const header = JSON.parse(atob(parts[0]));
                const payload = JSON.parse(atob(parts[1]));

                const result = `
                    <strong>Header:</strong>
                    <pre style="background: #f8f9fa; padding: 10px; border-radius: 5px; margin: 5px 0;">${JSON.stringify(header, null, 2)}</pre>
                    
                    <strong>Payload:</strong>
                    <pre style="background: #f8f9fa; padding: 10px; border-radius: 5px; margin: 5px 0;">${JSON.stringify(payload, null, 2)}</pre>
                    
                    <strong>Signature:</strong>
                    <code style="background: #f8f9fa; padding: 5px; border-radius: 3px;">${parts[2].substring(0, 20)}...</code>
                `;
                showResult('jwtResult', result);
            } catch (e) {
                showResult('jwtResult', `<span style="color: red;">è§£æå¤±è´¥: ${e.message}</span>`);
            }
        }

        // é€šç”¨ç»“æœæ˜¾ç¤ºå‡½æ•°
        function showResult(elementId, content) {
            const element = document.getElementById(elementId);
            const hasCopyBtn = element.querySelector('.copy-btn');
            element.innerHTML = content;
            if (hasCopyBtn) {
                element.innerHTML += '<button class="copy-btn" onclick="copyResult(\'' + elementId + '\')">å¤åˆ¶</button>';
            }
        }

        // å¤åˆ¶ç»“æœ
        function copyResult(elementId) {
            const element = document.getElementById(elementId);
            const text = element.innerText;
            
            navigator.clipboard.writeText(text).then(() => {
                const btn = element.querySelector('.copy-btn');
                const originalText = btn.textContent;
                btn.textContent = 'å·²å¤åˆ¶!';
                setTimeout(() => {
                    btn.textContent = originalText;
                }, 2000);
            }).catch(err => {
                alert('å¤åˆ¶å¤±è´¥: ' + err);
            });
        }

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        window.addEventListener('DOMContentLoaded', function() {
            convertColor();
            calculateStats();
        });
    </script>
</body>
</html>
